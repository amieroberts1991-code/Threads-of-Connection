<!DOCTYPE html> 
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Threads ‚Äî Threads of Connection</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
 
  <!-- Home page styles (so nav looks identical) -->
  <link rel="stylesheet" href="/styles.css">
 
  <!-- Threads page styles (map height, hero layout, modal, share form) -->
  <link rel="stylesheet" href="./threads.css" />
 
  <!-- Leaflet CSS (required for map tiles/controls) -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""
  />
</head>
<body>
  <!-- Navigation (same markup as home page) -->
  <nav class="main-nav">
    <div class="nav-container">
      <a href="./index.html" class="logo">Threads of Connection</a>
      <ul class="nav-links">
        <li><a href="./">Home</a></li>
        <li><a class="active" href="./threads.html">Threads</a></li>
        <li><a href="./actions.html">Actions</a></li>
        <li><a href="./community.html">Community</a></li>
        <li><a href="./get-involved.html">Get Involved</a></li>
      </ul>
      <button class="mobile-menu-toggle" aria-label="Menu">
        <span></span><span></span><span></span>
      </button>
    </div>
  </nav>
 
  <!-- Hero (shorter, clean, with soft canvas animation) -->
  <section class="threads-hero">
    <canvas id="threads-canvas" aria-hidden="true"></canvas>
    <div class="stars-container" id="hero-stars"></div>
    <div class="hero-content">
      <h1>Threads That Connect Us All</h1>
      <p>Real experiences, shared connections, one humanity.</p>
    </div>
  </section>
 
  <!-- World Map (primary focus) -->
  <section class="map-section">
    <div class="container">
      <h2 class="section-title">Stories Around the World</h2>
      <p class="section-subtitle">See where these stories come from</p>
      <div class="map-wrapper">
        <!-- Important: this ID is used by JavaScript to render the map -->
        <div id="world-map"></div>
      </div>
    </div>
  </section>
 
  <!-- Featured Stories (simple, non-sticky) -->
  <section class="featured-stories">
    <div class="container">
      <h2 class="section-title">Featured Stories</h2>
      <p class="section-subtitle">A few threads to begin with ‚Äî more coming soon</p>
 
      <!-- Simple search (not sticky, won't block scrolling) -->
      <div class="search-section">
        <div class="search-wrapper">
          <input type="text" id="search-input" placeholder="Search stories..." />
          <span class="search-icon">üîç</span>
        </div>
      </div>
 
      <!-- Stories grid will be populated by JS if data exists -->
      <div class="stories-grid" id="stories-grid"></div>
 
      <!-- Load more (appears only if there are more stories) -->
      <div class="load-more-section">
        <button class="btn btn-primary" id="load-more-btn">Load More Stories</button>
      </div>
    </div>
  </section>
 
  <!-- Share Your Story (clean section, non-sticky) -->
  <section class="share-section">
    <div class="container">
      <div class="share-card">
        <div class="share-text">
          <h2 class="section-title">Share Your Story</h2>
          <p class="section-subtitle">
            Your voice strengthens the tapestry. Share a real moment from your life‚Äîshort or long, simple or profound.
          </p>
          <div class="share-actions">
            <!-- On-page modal form -->
            <button class="btn btn-primary" id="open-share-form">Share on this page</button>
            <!-- Optional: separate page if you have one -->
            <a href="submit.html" class="btn btn-outline" aria-label="Go to Submit page">Use the full submit page</a>
          </div>
        </div>
      </div>
    </div>
  </section>
 
  <!-- Share Story Modal -->
  <div class="modal" id="share-modal" aria-hidden="true">
    <div class="modal-content">
      <div class="modal-header">
        <button class="modal-close" aria-label="Close">&times;</button>
        <h2 class="modal-title">Share Your Story</h2>
        <div class="modal-meta">We review all submissions for safety.</div>
      </div>
      <div class="modal-body">
        <form id="share-form" class="share-form" novalidate>
          <div class="form-row">
            <div class="form-group">
              <label for="share-title">Title *</label>
              <input type="text" id="share-title" name="title" placeholder="A short title" required maxlength="100" />
            </div>
            <div class="form-group">
              <label for="share-theme">Theme *</label>
              <select id="share-theme" name="theme" required>
                <option value="">Choose a theme...</option>
                <option>Connection</option>
                <option>Healing</option>
                <option>Cultural</option>
                <option>Hope</option>
                <option>Creative</option>
                <option>Reflection</option>
                <option>Kindness</option>
              </select>
            </div>
          </div>
 
          <div class="form-row">
            <div class="form-group">
              <label for="share-author">Your Name *</label>
              <input type="text" id="share-author" name="author" placeholder="How should we credit you?" required />
            </div>
            <div class="form-group">
              <label for="share-location">Location (City, Country)</label>
              <input type="text" id="share-location" name="location" placeholder="e.g., Portland, USA" />
            </div>
          </div>
 
          <!-- Optional coordinates for map pin (we can add geocoding later) -->
          <div class="form-row">
            <div class="form-group">
              <label for="share-lat">Latitude (optional)</label>
              <input type="number" step="any" id="share-lat" name="lat" placeholder="e.g., 45.5152" />
            </div>
            <div class="form-group">
              <label for="share-lng">Longitude (optional)</label>
              <input type="number" step="any" id="share-lng" name="lng" placeholder="-122.6784" />
            </div>
          </div>
 
          <div class="form-group">
            <label for="share-content">Your Story *</label>
            <textarea id="share-content" name="content" rows="8" placeholder="Share your experience (min 50 characters)" required></textarea>
            <div class="char-count"><span id="share-count">0</span>/2000</div>
          </div>
 
          <div class="form-actions">
            <button type="button" class="btn" id="cancel-share">Cancel</button>
            <button type="submit" class="btn btn-primary" id="submit-share">Submit Story</button>
          </div>
 
          <p class="form-note">Pins show on the map only if latitude and longitude are provided.</p>
        </form>
      </div>
    </div>
  </div>
 
  <!-- Story Modal (for viewing a full story) -->
  <div class="modal" id="story-modal" aria-hidden="true"></div>
 
  <!-- Footer (same structure as home) -->
  <footer class="main-footer">
    <div class="stars-container" id="footer-stars"></div>
    <div class="footer-content">
      <div class="footer-section">
        <h3>Threads of Connection</h3>
        <p>Weaving humanity together through empathy and shared stories.</p>
      </div>
      <div class="footer-section">
        <h4>Quick Links</h4>
        <ul class="footer-links">
          <li><a href="index.html">Home</a></li>
          <li><a href="threads.html">Threads</a></li>
          <li><a href="actions.html">Actions</a></li>
          <li><a href="community.html">Community</a></li>
          <li><a href="get-involved.html">Get Involved</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h3>Contact</h3>
        <a href="mailto:threadsofconnection25@gmail.com">threadsofconnection25@gmail.com</a>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2025 Threads of Connection. All rights reserved.</p>
       <p class="footer-tagline">We are not separate. We never were.</p>
    </div>
  </footer>
 
  <!-- Leaflet JS (must load before your map code) -->
  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""
  ></script>
 
  <!-- Your data first (pins), then logic -->
  <script src="./threads-data.js"></script>
  <script src="./threads.js"></script>
</body>
</html>
